# docs/registry/lillycore_roadmap.yml

version: "2.1"

blocks:
  # --------------------------------
  # Overview
  # --------------------------------
  - id: roadmap.overview
    kind: overview
    name: LILLYCORE_ROADMAP
    applies_to: [architect, implementer, qa]
    tags: [roadmap, phases, overview]
    md: |
      # LILLYCORE_ROADMAP

      **FILE:** LILLYCORE_ROADMAP  
      **ROLE:** High-level architectural evolution plan for LillyCORE  
      **VERSION:** v2.1 (Plugin/Engine terminology)

      ## SECTION: OVERVIEW

      This roadmap defines the ORDER in which LillyCORE’s subsystems come online.
      It is deliberately high-level and MUST NOT be treated as a task list.

      This version aligns naming with:
        - DRIFT_ENGINE (2a)
        - HELPER_ENGINE (2b)
        - PLUGIN_ENGINE (formerly Module Handler)
        - NOTES_PLUGIN (formerly Notes Engine)
        - Plugins vs engines terminology

      Architect GPT uses this to determine:
        - Which subsystems exist at a given point in evolution,
        - Dependencies between phases,
        - Scope boundaries for decomposition.

      QA GPT uses this to verify that implemented features align with the intended
      phase structure and subsystem sequence.

      Implementer GPT MUST NOT modify the Roadmap.  
      QA GPT MUST NOT modify the Roadmap; it only checks alignment of completed
      work to the intended phase.

      Outcomes of each phase represent architectural readiness,
      not code-complete deliverables.

  # --------------------------------
  # Phase 0
  # --------------------------------
  - id: roadmap.phase.0
    kind: phase
    phase: 0
    name: "PHASE 0 — FOUNDATIONS & TOOLING"
    tags: [phase0, foundations, tooling]
    md: |
      # PHASE 0 — FOUNDATIONS & TOOLING

      **Intent:**
        Establish the skeleton the entire system relies on.

      **Includes:**
        - Repository setup
        - Folder taxonomy
        - Development environment (VS Code, GitHub Projects)
        - Documentation structure
        - High-level system canon

      **Outcome:**
        A clean workspace with stable rules.

  # --------------------------------
  # Phase 1
  # --------------------------------
  - id: roadmap.phase.1
    kind: phase
    phase: 1
    name: "PHASE 1 — CORE LOOP, LOGGING, USER PREFERENCES"
    tags: [phase1, core_loop, logging, preferences]
    md: |
      # PHASE 1 — CORE LOOP, LOGGING, USER PREFERENCES

      **Intent:**
        Establish runtime heartbeat and persistent user identity.

      **Includes:**
        - Unified logging
        - Error envelopes
        - Core runtime loop
        - User preference loader + overrides
        - AI pool definitions (stubbed only)

      **Outcome:**
        LillyCORE can run and persist user settings.

  # --------------------------------
  # Phase 2
  # --------------------------------
  - id: roadmap.phase.2
    kind: phase
    phase: 2
    name: "PHASE 2 — AI POOLS & EXECUTION FRAMEWORK"
    tags: [phase2, ai_pools, execution_framework]
    md: |
      # PHASE 2 — AI POOLS & EXECUTION FRAMEWORK

      **Intent:**
        Establish composable “brains” and safe execution wrappers.

      **Includes:**
        - Conversational AI pool
        - Deterministic lightweight pool
        - Worker/back-end pool
        - Execution envelopes
        - Retry / timeouts / wrappers

      **Outcome:**
        Any LLM backend can be attached safely.

  # --------------------------------
  # Phase 3
  # --------------------------------
  - id: roadmap.phase.3
    kind: phase
    phase: 3
    name: "PHASE 3 — SYSTEM DOC MVP (DURABLE DATA LAYER)"
    tags: [phase3, system_doc, storage]
    md: |
      # PHASE 3 — SYSTEM DOC MVP (DURABLE DATA LAYER)

      **Intent:**
        Create persistent storage with safe, corruption-resistant access.

      **Includes:**
        - Work event storage
        - Permanent logs
        - Snapshots
        - Final file output routing (pdf/txt/img)

      **Outcome:**
        Durable state with no corruption.

  # --------------------------------
  # Phase 4
  # --------------------------------
  - id: roadmap.phase.4
    kind: phase
    phase: 4
    name: "PHASE 4 — NOTES PLUGIN V0"
    tags: [phase4, notes_plugin, plugin]
    md: |
      # PHASE 4 — NOTES PLUGIN V0

      **Intent:**
        First plugin built atop System DOC; acts as a simple testbed.

      **Includes:**
        - Transcript summarization
        - Note accumulation
        - Querying
        - Lightweight testbed for DRIFT/HELPER flows

      **Outcome:**
        Cheap way to test memory flow.

  # --------------------------------
  # Phase 5
  # --------------------------------
  - id: roadmap.phase.5
    kind: phase
    phase: 5
    name: "PHASE 5 — DRIFT ENGINE MVP (CONTEXT, EMOTION, PERCEPTION)"
    tags: [phase5, drift_engine, context, emotion]
    md: |
      # PHASE 5 — DRIFT ENGINE MVP (CONTEXT, EMOTION, PERCEPTION)

      **Intent:**
        “Lilly the Person.” Establish structured, emotionally aware input.

      **Includes:**
        - Work/personal/ephemeral split
        - Emotional weights
        - Personal memory entries
        - Ephemeral context (recent messages & tone)
        - Thread/context summaries

      **Outcome:**
        Structured input for HELPER_ENGINE.

  # --------------------------------
  # Phase 6
  # --------------------------------
  - id: roadmap.phase.6
    kind: phase
    phase: 6
    name: "PHASE 6 — HELPER ENGINE MVP (WORK ENGINE)"
    tags: [phase6, helper_engine, work_engine]
    md: |
      # PHASE 6 — HELPER ENGINE MVP (WORK ENGINE)

      **Intent:**
        “Lilly the Worker.” Create the engine that performs structured work.

      **Includes:**
        - Accept WorkPackage + ContextBundle
        - Select appropriate work type
        - Call backend AI(s) or stubs
        - Return structured output
        - Log work event

      **Outcome:**
        Full engine for doing work with traceability.

  # --------------------------------
  # Phase 7
  # --------------------------------
  - id: roadmap.phase.7
    kind: phase
    phase: 7
    name: "PHASE 7 — PLUGIN ENGINE MVP"
    tags: [phase7, plugin_engine]
    md: |
      # PHASE 7 — PLUGIN ENGINE MVP

      **Intent:**
        Architectural pivot towards plugin-based expansion.

      **Includes:**
        - Register/load/unload plugins
        - Capability registry
        - Plugin DOC boundaries
        - Sandbox routing
        - Notes Plugin V1 moves here (plugin self-storage)

      **Outcome:**
        The system becomes expandable.

  # --------------------------------
  # Phase 8 (high-level)
  # --------------------------------
  - id: roadmap.phase.8
    kind: phase
    phase: 8
    name: "PHASE 8 — STABILITY SPINE"
    tags: [phase8, stability_spine, help_desk_engine, dream_engine, script_engine]
    md: |
      # PHASE 8 — STABILITY SPINE

      **Intent:**
        Self-repair, maintenance, and internal evolution.

      These MUST remain adjacent:
        - HELP_DESK_ENGINE
        - DREAM_ENGINE
        - SCRIPT_ENGINE

      **Subphases:**

      - SUBPHASE 8a — HELP DESK ENGINE V0
      - SUBPHASE 8b — DREAM ENGINE V0
      - SUBPHASE 8c — SCRIPT ENGINE V0

  # --------------------------------
  # Phase 8a – HELP DESK ENGINE V0
  # --------------------------------
  - id: roadmap.phase.8a.help_desk_engine
    kind: subphase
    phase: 8
    subphase: "8a"
    name: "SUBPHASE 8a — HELP DESK ENGINE V0"
    tags: [phase8, help_desk_engine]
    md: |
      ## SUBPHASE 8a — HELP DESK ENGINE V0

      - Detect repeated failures
      - Attempt auto-repair or mitigation
      - Escalate issues to Andrew when needed
      - Validate fatal vs recoverable errors

      **Outcome:**
        System stays alive.

  # --------------------------------
  # Phase 8b – DREAM ENGINE V0
  # --------------------------------
  - id: roadmap.phase.8b.dream_engine
    kind: subphase
    phase: 8
    subphase: "8b"
    name: "SUBPHASE 8b — DREAM ENGINE V0"
    tags: [phase8, dream_engine]
    md: |
      ## SUBPHASE 8b — DREAM ENGINE V0

      - Memory degradation
      - DOC compression
      - Lateral reasoning passes
      - Drift evaluation
      - Optimization suggestions

      **Outcome:**
        Lilly learns and self-corrects.

  # --------------------------------
  # Phase 8c – SCRIPT ENGINE V0
  # --------------------------------
  - id: roadmap.phase.8c.script_engine
    kind: subphase
    phase: 8
    subphase: "8c"
    name: "SUBPHASE 8c — SCRIPT ENGINE V0"
    tags: [phase8, script_engine]
    md: |
      ## SUBPHASE 8c — SCRIPT ENGINE V0

      - Optimize internal scripts
      - Merge/split script units
      - Suggest improvements
      - Sandbox validation
      - Optional auto-approval

      **Outcome:**
        Procedural intelligence + autonomous maintenance.

  # --------------------------------
  # Phase 9
  # --------------------------------
  - id: roadmap.phase.9
    kind: phase
    phase: 9
    name: "PHASE 9 — UX MVP"
    tags: [phase9, ux, interface]
    md: |
      # PHASE 9 — UX MVP

      **Intent:**
        First real external interface.

      **Includes:**
        - Chat panel
        - Output panel
        - Errors/debug view
        - Identity + personality hooks

      **Outcome:**
        External interaction begins.

  # --------------------------------
  # Phase 10
  # --------------------------------
  - id: roadmap.phase.10
    kind: phase
    phase: 10
    name: "PHASE 10 — PROJECT MANAGEMENT PLUGIN"
    tags: [phase10, project_management, plugin]
    md: |
      # PHASE 10 — PROJECT MANAGEMENT PLUGIN

      **Intent:**
        Lilly organizes work internally.

      **Includes:**
        - Task breakdown
        - Work tracking
        - Self-roadmapping

      **Outcome:**
        Autonomous internal PM.

  # --------------------------------
  # Phase 11
  # --------------------------------
  - id: roadmap.phase.11
    kind: phase
    phase: 11
    name: "PHASE 11 — PERSONAL ASSISTANT PLUGIN"
    tags: [phase11, personal_assistant, plugin]
    md: |
      # PHASE 11 — PERSONAL ASSISTANT PLUGIN

      **Intent:**
        Functional personality optimized for user assistance.

      **Includes:**
        - Daily briefings
        - Summary generation
        - Routine tracking
        - Calendar-like memory

      **Outcome:**
        Lilly becomes a usable assistant.

  # --------------------------------
  # Phase 12
  # --------------------------------
  - id: roadmap.phase.12
    kind: phase
    phase: 12
    name: "PHASE 12 — DEMONSTRATION PLUGINS"
    tags: [phase12, demos, plugins]
    md: |
      # PHASE 12 — DEMONSTRATION PLUGINS

      **Intent:**
        Provide small showcases for validation and external viewers.

      **Includes:**
        - Calculator
        - Story helper
        - Mini-notes
        - Code explainer
        - File tagger

      **Outcome:**
        Public demos and validation.

  # --------------------------------
  # Phase 13
  # --------------------------------
  - id: roadmap.phase.13
    kind: phase
    phase: 13
    name: "PHASE 13 — MULTI-USER PLUGIN"
    tags: [phase13, multi_user, plugin]
    md: |
      # PHASE 13 — MULTI-USER PLUGIN

      **Intent:**
        Support for multiple human identities.

      **Includes:**
        - Per-user memory
        - Per-user plugin data
        - Thread routing
        - Identity switching

      **Outcome:**
        LillyCORE supports multiple humans.

  # --------------------------------
  # Phase 14
  # --------------------------------
  - id: roadmap.phase.14
    kind: phase
    phase: 14
    name: "PHASE 14 — IO & NETWORK LAYER"
    tags: [phase14, io, network]
    md: |
      # PHASE 14 — IO & NETWORK LAYER

      **Intent:**
        Multi-device communication and presence.

      **Includes:**
        - Unified packet format
        - LAN endpoints
        - Voice/wake commands
        - Device sandbox coordination

      **Outcome:**
        Whole-home digital presence.

  # --------------------------------
  # Phase 15
  # --------------------------------
  - id: roadmap.phase.15
    kind: phase
    phase: 15
    name: "PHASE 15 — APPLIANCE LAYER"
    tags: [phase15, appliance]
    md: |
      # PHASE 15 — APPLIANCE LAYER

      **Intent:**
        Hardware integration and lifecycle management.

      **Includes:**
        - Auto-start
        - Safe shutdown
        - Updates
        - Corruption recovery

      **Outcome:**
        Dedicated device compatibility.

  # --------------------------------
  # Phase 16
  # --------------------------------
  - id: roadmap.phase.16
    kind: phase
    phase: 16
    name: "PHASE 16 — USER CONFIGURATION & FIRST-RUN EXPERIENCE"
    tags: [phase16, onboarding, first_run]
    md: |
      # PHASE 16 — USER CONFIGURATION & FIRST-RUN EXPERIENCE

      **Intent:**
        Polished onboarding for new users.

      **Includes:**
        - Setup wizard
        - Model selection
        - Plugin selection
        - Device detection
        - Failsafe defaults

      **Outcome:**
        Refined entry experience.

  # --------------------------------
  # Phase 17
  # --------------------------------
  - id: roadmap.phase.17
    kind: phase
    phase: 17
    name: "PHASE 17 — ENTERPRISE DEMO PLUGIN"
    tags: [phase17, enterprise_demo, plugin]
    md: |
      # PHASE 17 — ENTERPRISE DEMO PLUGIN

      **Intent:**
        Professional-scale workload demonstration.

      **Includes:**
        - Multi-worker orchestration
        - Capability gating
        - High-volume processing
        - Enterprise configuration

      **Outcome:**
        Investor-ready demo.

  # --------------------------------
  # Phase 18
  # --------------------------------
  - id: roadmap.phase.18
    kind: phase
    phase: 18
    name: "PHASE 18 — SYSTEM INTEGRATION + ALPHA RELEASE"
    tags: [phase18, integration, alpha_release]
    md: |
      # PHASE 18 — SYSTEM INTEGRATION + ALPHA RELEASE

      **Intent:**
        Final stitching, validation, and release preparation.

      **Includes:**
        - Full integration
        - System validation
        - Runtime optimization
        - Installer
